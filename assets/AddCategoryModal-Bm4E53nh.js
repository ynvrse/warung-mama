import{r as l,j as t}from"./theme-provider-C3d4einS.js";import{u as y,d as H,a as v,B as x}from"./App-DM7DqXAy.js";import{e as V,c as q,b as C,P as R,d as m,f as U,h as X,R as Y,g as Z,F as J,D as Q,i as ee,X as I}from"./Combination-B9ghzp8d.js";import{P as p,I as te,b as ae}from"./env-8iG8GCiW.js";import{L as P}from"./label-BenH-344.js";import{t as N}from"./index-rbqaS3as.js";var D="Dialog",[w,Ae]=q(D),[oe,d]=w(D),O=e=>{const{__scopeDialog:a,children:r,open:o,defaultOpen:s,onOpenChange:n,modal:i=!0}=e,c=l.useRef(null),u=l.useRef(null),[f,j]=V({prop:o,defaultProp:s??!1,onChange:n,caller:D});return t.jsx(oe,{scope:a,triggerRef:c,contentRef:u,contentId:C(),titleId:C(),descriptionId:C(),open:f,onOpenChange:j,onOpenToggle:l.useCallback(()=>j(K=>!K),[j]),modal:i,children:r})};O.displayName=D;var A="DialogTrigger",ne=l.forwardRef((e,a)=>{const{__scopeDialog:r,...o}=e,s=d(A,r),n=y(a,s.triggerRef);return t.jsx(p.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":E(s.open),...o,ref:n,onClick:m(e.onClick,s.onOpenToggle)})});ne.displayName=A;var b="DialogPortal",[se,T]=w(b,{forceMount:void 0}),k=e=>{const{__scopeDialog:a,forceMount:r,children:o,container:s}=e,n=d(b,a);return t.jsx(se,{scope:a,forceMount:r,children:l.Children.map(o,i=>t.jsx(R,{present:r||n.open,children:t.jsx(U,{asChild:!0,container:s,children:i})}))})};k.displayName=b;var h="DialogOverlay",M=l.forwardRef((e,a)=>{const r=T(h,e.__scopeDialog),{forceMount:o=r.forceMount,...s}=e,n=d(h,e.__scopeDialog);return n.modal?t.jsx(R,{present:o||n.open,children:t.jsx(ie,{...s,ref:a})}):null});M.displayName=h;var re=H("DialogOverlay.RemoveScroll"),ie=l.forwardRef((e,a)=>{const{__scopeDialog:r,...o}=e,s=d(h,r);return t.jsx(Y,{as:re,allowPinchZoom:!0,shards:[s.contentRef],children:t.jsx(p.div,{"data-state":E(s.open),...o,ref:a,style:{pointerEvents:"auto",...o.style}})})}),g="DialogContent",F=l.forwardRef((e,a)=>{const r=T(g,e.__scopeDialog),{forceMount:o=r.forceMount,...s}=e,n=d(g,e.__scopeDialog);return t.jsx(R,{present:o||n.open,children:n.modal?t.jsx(le,{...s,ref:a}):t.jsx(ce,{...s,ref:a})})});F.displayName=g;var le=l.forwardRef((e,a)=>{const r=d(g,e.__scopeDialog),o=l.useRef(null),s=y(a,r.contentRef,o);return l.useEffect(()=>{const n=o.current;if(n)return X(n)},[]),t.jsx(S,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,n=>{var i;n.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,n=>{const i=n.detail.originalEvent,c=i.button===0&&i.ctrlKey===!0;(i.button===2||c)&&n.preventDefault()}),onFocusOutside:m(e.onFocusOutside,n=>n.preventDefault())})}),ce=l.forwardRef((e,a)=>{const r=d(g,e.__scopeDialog),o=l.useRef(!1),s=l.useRef(!1);return t.jsx(S,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,n),n.defaultPrevented||(o.current||(c=r.triggerRef.current)==null||c.focus(),n.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:n=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,n),n.defaultPrevented||(o.current=!0,n.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=n.target;((f=r.triggerRef.current)==null?void 0:f.contains(i))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&s.current&&n.preventDefault()}})}),S=l.forwardRef((e,a)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:n,...i}=e,c=d(g,r),u=l.useRef(null),f=y(a,u);return Z(),t.jsxs(t.Fragment,{children:[t.jsx(J,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:n,children:t.jsx(Q,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":E(c.open),...i,ref:f,onDismiss:()=>c.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(ue,{titleId:c.titleId}),t.jsx(fe,{contentRef:u,descriptionId:c.descriptionId})]})]})}),_="DialogTitle",W=l.forwardRef((e,a)=>{const{__scopeDialog:r,...o}=e,s=d(_,r);return t.jsx(p.h2,{id:s.titleId,...o,ref:a})});W.displayName=_;var $="DialogDescription",de=l.forwardRef((e,a)=>{const{__scopeDialog:r,...o}=e,s=d($,r);return t.jsx(p.p,{id:s.descriptionId,...o,ref:a})});de.displayName=$;var L="DialogClose",B=l.forwardRef((e,a)=>{const{__scopeDialog:r,...o}=e,s=d(L,r);return t.jsx(p.button,{type:"button",...o,ref:a,onClick:m(e.onClick,()=>s.onOpenChange(!1))})});B.displayName=L;function E(e){return e?"open":"closed"}var G="DialogTitleWarning",[Te,z]=ee(G,{contentName:g,titleName:_,docsSlug:"dialog"}),ue=({titleId:e})=>{const a=z(G),r=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return l.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},ge="DialogDescriptionWarning",fe=({contentRef:e,descriptionId:a})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${z(ge).contentName}}.`;return l.useEffect(()=>{var n;const s=(n=e.current)==null?void 0:n.getAttribute("aria-describedby");a&&s&&(document.getElementById(a)||console.warn(o))},[o,e,a]),null},me=O,pe=k,xe=M,he=F,ve=W,De=B;function je({...e}){return t.jsx(me,{"data-slot":"dialog",...e})}function Ce({...e}){return t.jsx(pe,{"data-slot":"dialog-portal",...e})}function Ne({className:e,...a}){return t.jsx(xe,{"data-slot":"dialog-overlay",className:v("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function ye({className:e,children:a,showCloseButton:r=!0,...o}){return t.jsxs(Ce,{"data-slot":"dialog-portal",children:[t.jsx(Ne,{}),t.jsxs(he,{"data-slot":"dialog-content",className:v("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...o,children:[a,r&&t.jsxs(De,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[t.jsx(I,{}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Re({className:e,...a}){return t.jsx("div",{"data-slot":"dialog-header",className:v("flex flex-col gap-2 text-center sm:text-left",e),...a})}function be({className:e,...a}){return t.jsx(ve,{"data-slot":"dialog-title",className:v("text-lg leading-none font-semibold",e),...a})}const ke=({open:e,onClose:a,addCategory:r})=>{const[o,s]=l.useState({name:"",icon:"default"}),n=()=>{if(!o.name.trim()){N.error("Nama kategori wajib diisi");return}if(!o.icon){N.error("Pilih ikon kategori terlebih dahulu");return}r(o),N.success("Kategori berhasil ditambahkan"),s({name:"",icon:"default"}),a()};return t.jsx(je,{open:e,onOpenChange:a,modal:!1,children:t.jsxs(ye,{className:"w-screen max-w-none overflow-y-auto rounded-none p-6",showCloseButton:!1,children:[t.jsx(Re,{className:"mt-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(be,{children:"Tambah Kategori Baru"}),t.jsxs(x,{size:"icon",onClick:a,children:[t.jsx(I,{className:"h-5 w-5"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})}),t.jsxs("div",{className:"-mt-12 space-y-4",children:[t.jsxs("div",{children:[t.jsxs(P,{htmlFor:"cat-name",className:"mb-4",children:["Nama Kategori",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(te,{id:"cat-name",value:o.name,onChange:i=>s({...o,name:i.target.value}),placeholder:"Masukkan nama kategori"})]}),t.jsxs("div",{children:[t.jsx(P,{children:"Pilih Icon"}),t.jsx("div",{className:"mt-2 grid max-h-48 grid-cols-3 gap-2 overflow-y-auto",children:ae.map(i=>{const c=i.component;return t.jsxs(x,{variant:o.icon===i.key?"default":"outline",onClick:()=>s({...o,icon:i.key}),className:"flex h-auto flex-col items-center gap-2 p-3",children:[t.jsx(c,{className:"h-5 w-5"}),t.jsx("span",{className:"text-center text-xs font-medium",children:i.name})]},i.key)})})]})]}),t.jsxs("div",{className:"mt-6 flex gap-3",children:[t.jsx(x,{variant:"outline",onClick:()=>{s({name:"",icon:""}),a()},className:"flex-1",children:"Batal"}),t.jsx(x,{onClick:n,className:"flex-1",children:"Tambah"})]})]})})};export{ke as A};
